import React, {Children} from 'react'
import { Color } from 'lunchpad';

import Text from './Text';

const letters = {
    0: [{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:2,y:3},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:1,y:0},{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3}],
    1: [{x:1,y:4},{x:0,y:3},{x:1,y:3},{x:1,y:2},{x:1,y:1},{x:0,y:0},{x:1,y:0},{x:2,y:0}],
    2: [{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:2,y:3},{x:2,y:2},{x:1,y:2},{x:0,y:2},{x:0,y:1},{x:0,y:0},{x:1,y:0},{x:2,y:0}],
    3: [{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:2,y:3},{x:2,y:2},{x:1,y:2},{x:2,y:1},{x:2,y:0},{x:1,y:0},{x:0,y:0}],
    4: [{x:0,y:4},{x:0,y:3},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:3},{x:2,y:4}],
    5: [{x:0,y:4},{x:0,y:3},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:4},{x:1,y:4},{x:1,y:0},{x:0,y:0}],
    6: [{x:0,y:4},{x:0,y:3},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:4},{x:1,y:4},{x:1,y:0},{x:0,y:0},{x:0,y:1}],
    7: [{x:0,y:4},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:4},{x:1,y:4},{x:2,y:3}],
    8: [{x:0,y:4},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:4},{x:1,y:4},{x:2,y:3},{x:0,y:2},{x:0,y:1},{x:0,y:0},{x:1,y:0},{x:1,y:2},{x:0,y:3}],
    9: [{x:0,y:4},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:4},{x:1,y:4},{x:2,y:3},{x:0,y:2},{x:0,y:0},{x:1,y:0},{x:1,y:2},{x:0,y:3}],

    A: [{x:0,y:4},{x:2,y:2},{x:2,y:1},{x:2,y:0},{x:2,y:4},{x:1,y:4},{x:2,y:3},{x:0,y:2},{x:0,y:0},{x:0,y:3},{x:0,y:1},{x:1,y:2}],
    B: [{x:0,y:4},{x:2,y:2},{x:2,y:1},{x:1,y:4},{x:2,y:3},{x:0,y:2},{x:0,y:0},{x:0,y:3},{x:0,y:1},{x:1,y:2},{x:1,y:0}],
    C: [{x:0,y:4},{x:1,y:4},{x:0,y:2},{x:0,y:0},{x:0,y:3},{x:0,y:1},{x:1,y:0},{x:2,y:4},{x:2,y:0}],
    D: [{x:0,y:4},{x:1,y:4},{x:0,y:2},{x:0,y:0},{x:0,y:3},{x:0,y:1},{x:1,y:0},{x:2,y:3},{x:2,y:2},{x:2,y:1}],
    E: [{x:0,y:4},{x:1,y:4},{x:0,y:2},{x:0,y:0},{x:0,y:3},{x:0,y:1},{x:1,y:0},{x:1,y:2},{x:2,y:4},{x:2,y:0}],
    F: [{x:0,y:4},{x:1,y:4},{x:0,y:2},{x:0,y:0},{x:0,y:3},{x:0,y:1},{x:1,y:2},{x:2,y:4}],
    G: [{x:0,y:4},{x:1,y:4},{x:0,y:2},{x:0,y:0},{x:0,y:3},{x:0,y:1},{x:2,y:4},{x:1,y:0},{x:2,y:0},{x:2,y:2},{x:2,y:1}],
    H: [{x:0,y:4},{x:0,y:2},{x:0,y:0},{x:0,y:3},{x:0,y:1},{x:2,y:4},{x:2,y:0},{x:2,y:2},{x:1,y:2},{x:2,y:3},{x:2,y:1}],
    I: [{x:0,y:4},{x:0,y:0},{x:2,y:4},{x:2,y:0},{x:1,y:2},{x:1,y:4},{x:1,y:3},{x:1,y:1},{x:1,y:0}],
    J: [{x:0,y:4},{x:0,y:0},{x:2,y:4},{x:1,y:4},{x:1,y:0},{x:2,y:1},{x:2,y:2},{x:2,y:3}],
    K: [{x:0,y:4},{x:0,y:0},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:2},{x:2,y:3},{x:2,y:1},{x:3,y:4},{x:3,y:0}],
    L: [{x:0,y:4},{x:0,y:0},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:0},{x:2,y:0}],
    M: [{x:0,y:4},{x:0,y:0},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:3},{x:2,y:2},{x:3,y:3},{x:4,y:4},{x:4,y:3},{x:4,y:2},{x:4,y:1},{x:4,y:0}],
    N: [{x:0,y:4},{x:0,y:0},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:3},{x:2,y:2},{x:3,y:0},{x:3,y:1},{x:3,y:2},{x:3,y:3},{x:3,y:4}],
    O: [{x:0,y:4},{x:0,y:0},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:4},{x:2,y:4},{x:1,y:0},{x:2,y:0},{x:2,y:1},{x:2,y:2},{x:2,y:3}],
    P: [{x:0,y:4},{x:0,y:0},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:4},{x:2,y:4},{x:2,y:2},{x:2,y:3},{x:1,y:2}],
    Q: [{x:0,y:4},{x:0,y:0},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:4},{x:2,y:4},{x:1,y:0},{x:2,y:1},{x:3,y:0},{x:3,y:1},{x:3,y:2},{x:3,y:3},{x:3,y:4},{x:2,y:0}],
    R: [{x:0,y:4},{x:0,y:0},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:4},{x:2,y:4},{x:2,y:1},{x:1,y:2},{x:3,y:0},{x:3,y:2},{x:3,y:4},{x:3,y:3},{x:2,y:2}],
    S: [{x:0,y:4},{x:0,y:3},{x:0,y:2},{x:1,y:4},{x:2,y:4},{x:1,y:2},{x:2,y:2},{x:1,y:0},{x:0,y:0},{x:2,y:0},{x:2,y:1}],
    T: [{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:1,y:2},{x:1,y:0},{x:1,y:3},{x:1,y:1}],
    U: [{x:0,y:4},{x:2,y:4},{x:0,y:3},{x:0,y:2},{x:0,y:1},{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:2,y:1},{x:2,y:2},{x:2,y:3}],
    V: [{x:0,y:4},{x:2,y:4},{x:0,y:3},{x:0,y:2},{x:2,y:2},{x:2,y:3},{x:0,y:1},{x:1,y:0},{x:2,y:1}],
    W: [{x:0,y:4},{x:0,y:0},{x:0,y:1},{x:0,y:3},{x:0,y:2},{x:1,y:1},{x:2,y:2},{x:3,y:1},{x:4,y:0},{x:4,y:1},{x:4,y:2},{x:4,y:3},{x:4,y:4}],
    X: [{x:4,y:4},{x:1,y:3},{x:0,y:4},{x:2,y:2},{x:3,y:3},{x:1,y:1},{x:0,y:0},{x:3,y:1},{x:4,y:0}],
    Y: [{x:0,y:4},{x:2,y:1},{x:2,y:0},{x:1,y:3},{x:3,y:3},{x:4,y:4},{x:2,y:2}],
    Z: [{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:0,y:1},{x:1,y:2},{x:2,y:3}],
}

export default function Letter(props) {
    const letter = (props.letter + '').toUpperCase();
    const color = props.color || Color.RED;
    const baseX = props.x || 0;
    const baseY = props.y || 0;

    const stencil = letters[letter];
    const buttons = [];
    let width = 0;
    if (stencil) {
        stencil.forEach(({x, y}) => {
            width = Math.max(width, x + 1);
            const myX = baseX + x;
            const myY = baseY + y;
            buttons.push(<button color={color} x={myX} y={myY} key={`${myX}_${myY}`} />);
        });
    }

    let text = null;
    if (props.children && typeof props.children === 'string') {
        text = <Text text={props.children} x={baseX + width + 1} y={baseY} />
    }

    return (
        <>
            {buttons}
            {text}
        </>
    )
}